<script type="text/javascript">
      
	var getCurrentUrl = location.href + "get_current_url";
	var homePageUrl = location.href;
	
	var currentUrlToShow = "";
	var noUrlFromServer = "";
	
	
	function SetCurrentPage(url) 
	{
		//console.log("url to show: " + urlToShow);
		if (urlToShow == noUrlFromServer)
		{
			ShowHomePage();
		}
		else
		{
			SetCurrentUrl(urlToShow);
		}	                          
	}

	function ShowHomePage()
	{
		SetCurrentUrl(homePageUrl);
	}
	
	function SetCurrentUrl(url)
	{
		console.log(url);
		if (url != currentUrlToShow) 
		{
			currentUrlToShow = url;
			document.getElementById('currentUrlToShowId').src = currentUrlToShow;		
		}
	}
	
</script>


<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="styles.css">
	</head>
   
	<body>
		<h1>IGI Notifications</h1>
		
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script>
		
		<script> 
		//var socket = io.connect("http://127.0.0.1:8081"); 
		var socket = io.connect(location.href); 
		
		socket.on('messages_newUrlToShow', function(url) {
				//console.log("socket worked");
                SetCurrentUrl(url);
        });
		
		</script>
		
		<iframe  style="height=100%"
			id="currentUrlToShowId"
			height="100%"
			width="100%"
			frameborder="0"
			/>
	</body>
</html>